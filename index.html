<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Let's play with PrestoAPI">
  <meta name="author" content="Melanie Panem">

  <title>Trump Tweet Generator</title>

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="./twitter.png"/>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link href="./styles.css" rel="stylesheet">

  <script>
    const ul = document.getElementById('tweet-trump');
    const url = 'https://trumptweets.prestoapi.com/api/trump';
    console.log(url);

    fetch(url)
    .then((resp) => resp.json())
    .then(function(data) { 
      const tweets = data;

      function getRandomInt(max) {
        return Math.floor(Math.random() * Math.floor(max));
      }
      let randomTweet = getRandomInt(130);

      var clickRandomTweet = function() {
        randomTweet = getRandomInt(130);
        const li = document.getElementById('li');
        return li.innerHTML = `<span class="blue">${tweets[randomTweet].created_at}</span> <br/> ${tweets[randomTweet].text}`;
      }

      clickRandomTweet();

      document.getElementById('generator').addEventListener('click', clickRandomTweet);
    })
    .catch(function(error) {
      console.log(error);
    });

  </script>

</head>

<body>

  <!-- Page Content -->
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <img width="160px" src="https://media.giphy.com/media/6L015gMEW3pFC/giphy.gif"/>
        <h1> 
          <img src="./twitter.png"/>
          Trump Tweets
        </h1>
        <h2>
          <strong>Generate Random Trump Tweets</strong><br/>
          <small>
            <a href="https://prestoapi.com/" target="_blank">
              PrestoAPI
            </a>
            middleware product testing
          </small>
        </h2>

        <div id="tweet-container">
          <h3>
            <a href="https://twitter.com/realdonaldtrump" target="_blank">
              <img src="./twitter.png" width="20px"/> 
              @realdonaldtrump
            </a>
          </h3>
          <ul id="tweet-trump">
            <li id="li"></li>
          </ul>
        </div>

        <button id="generator">Generate Tweet</button>

      </div>
    </div>
  </div>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.slim.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

</body>

</html>
